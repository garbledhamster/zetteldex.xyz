<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Zettelkasten Demo ‚Äì Beautiful Modals Edition üìù</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <!-- Include tooly.css if your tooltip library requires it -->
</head>

<body>
  <header>
    <h1>Zettelkasten ‚Äì Beautiful Modals Demo üíé</h1>
  </header>

  <div class="container">
    <div class="sidebar">

      <!-- Updated Controls with icons, spacing, and Tooly.js attributes -->
      <div class="expand-controls">
        <!-- Collapse All -->
        <button id="collapseAllBtn" class="icon-button"
                data-tooly="Collapse All" 
                data-tooly-position="top">
          <i data-feather="minus-square"></i>
        </button>

        <!-- Expand All -->
        <button id="expandAllBtn" class="icon-button"
                data-tooly="Expand All" 
                data-tooly-position="top">
          <i data-feather="plus-square"></i>
        </button>

        <!-- New Card -->
        <button id="newCardBtnHeader" class="icon-button"
                data-tooly="New Card" 
                data-tooly-position="top">
          <i data-feather="file-plus"></i>
        </button>

        <!-- Delete Card -->
        <button id="deleteCardBtn" class="icon-button"
                data-tooly="Delete Card (All Child Cards Too)" 
                data-tooly-position="top">
          <i data-feather="trash-2"></i>
        </button>

        <!-- Import/Export JSON -->
        <button id="importBtn" class="icon-button"
                data-tooly="Import JSON" 
                data-tooly-position="top">
          <i data-feather="upload"></i>
        </button>
        <button id="exportBtn" class="icon-button"
                data-tooly="Export JSON" 
                data-tooly-position="top">
          <i data-feather="download"></i>
        </button>
      </div>
      <!-- End Updated Controls -->

      <div class="index-list" id="indexList">
        <ul>
          <li data-expanded="true">
            <div class="collapse-toggle">
              <span class="collapse-arrow"></span>
              <span class="index-number">1000</span>
              <span class="card-name">Mind</span>
            </div>
            <ul>
              <li data-expanded="true">
                <div class="collapse-toggle">
                  <span class="collapse-arrow"></span>
                  <span class="index-number">1100</span>
                  <span class="card-name">Resilience</span>
                </div>
                <ul>
                  <li data-expanded="true">
                    <div class="collapse-toggle">
                      <span class="collapse-arrow"></span>
                      <span class="index-number">1110</span>
                      <span class="card-name">NVC</span>
                    </div>
                    <ul>
                      <li data-expanded="true">
                        <div class="collapse-toggle">
                          <span class="collapse-arrow"></span>
                          <span class="index-number">1111</span>
                          <span class="card-name">Giraffe</span>
                        </div>
                        <ul>
                          <li data-expanded="false">
                            <div class="collapse-toggle">
                              <span class="collapse-arrow"></span>
                              <span class="index-number">1111.1</span>
                              <span class="card-name">Apologies</span>
                            </div>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li data-expanded="false">
            <div class="collapse-toggle">
              <span class="collapse-arrow"></span>
              <span class="index-number">2000</span>
              <span class="card-name">Body</span>
            </div>
          </li>
          <li data-expanded="false">
            <div class="collapse-toggle">
              <span class="collapse-arrow"></span>
              <span class="index-number">3000</span>
              <span class="card-name">Spirit</span>
            </div>
          </li>
          <li data-expanded="false">
            <div class="collapse-toggle">
              <span class="collapse-arrow"></span>
              <span class="index-number">4000</span>
              <span class="card-name">Life</span>
            </div>
          </li>
        </ul>
      </div>

      <!-- New Footer with Link -->
      <div class="sidebar-footer">
        <a href="https://joerice.me" target="_blank">https://joerice.me</a>
      </div>
      <!-- End New Footer -->
    </div>

    <div class="main-content">
      <div class="placeholder" id="placeholderView">
        <!-- Could optionally remove this button if you always use the new one up top -->
        <button id="newCardBtn">Make new card</button>
        <div>or...</div>
        <button id="selectCardBtn">Select a card</button>
      </div>
      <div class="card-details" id="cardDetails">
        <div class="card-header">
          <h2 id="cardTitle">[Card Title]</h2>
          <div>
            <button class="icon-button" id="cameraBtn" title="Upload Photo">üì∑</button>
            <button class="icon-button" id="editBtn" title="Edit Card">‚úèÔ∏è</button>
          </div>
        </div>
        <div class="card-field">
          <label for="detailIndex">Index:</label>
          <input id="detailIndex" type="text" readonly>
        </div>
        <div class="card-field">
          <label for="detailName">Name:</label>
          <input id="detailName" type="text" readonly>
        </div>
        <div class="card-field">
          <label for="detailFront">Front (Notes):</label>
          <textarea id="detailFront" rows="3" readonly></textarea>
        </div>
        <div class="card-field">
          <label for="detailBack">Back (Aux):</label>
          <textarea id="detailBack" rows="3" readonly></textarea>
        </div>
        <div class="card-field">
          <label for="detailKeywords">Keywords:</label>
          <input id="detailKeywords" type="text" readonly>
        </div>
        <div class="card-field">
          <label for="detailConnections">Connections:</label>
          <input id="detailConnections" type="text" readonly>
        </div>
        <button class="save-button" id="saveBtn" style="display:none">üíæ Save</button>
      </div>
    </div>
  </div>

  <!-- Modal for Creating New Card -->
  <div class="modal" id="newCardModal">
    <div class="modal-content">
      <h3>Create a New Card</h3>
      <label for="modalIndex">Index:</label>
      <input type="text" id="modalIndex" placeholder="e.g. 1111.1.1">
      <label for="modalName">Name:</label>
      <input type="text" id="modalName" placeholder='e.g. Never Say "Sorry"'>
      <label for="modalKeywords">Keywords:</label>
      <input type="text" id="modalKeywords" placeholder="mind, resilience, NVC, ...">
      <div class="modal-actions">
        <button class="cancel-btn" id="cancelModalBtn">Cancel</button>
        <button class="add-btn" id="addCardBtn">Add Card</button>
      </div>
    </div>
  </div>

  <!-- Modal for Info Messages -->
  <div class="modal" id="infoModal">
    <div class="info-modal-content">
      <h4 id="infoModalTitle"></h4>
      <p id="infoModalMessage"></p>
      <button class="close-info-btn" id="closeInfoModalBtn">Close</button>
    </div>
  </div>

  <!-- Modal for Deleting Card -->
  <div class="modal" id="deleteCardModal">
    <div class="modal-content">
      <h3>Confirm Delete</h3>
      <p>Are you sure you want to delete this card and all of its child cards?</p>
      <div class="modal-actions">
        <button class="cancel-btn" id="cancelDeleteCardBtn">Cancel</button>
        <button class="delete-btn" id="confirmDeleteCardBtn">Delete</button>
      </div>
    </div>
  </div>

  <!-- Include your scripts below -->
  <!-- If using Tooly.js for tooltips, be sure to add the library here -->
  <!-- <script src="tooly.js"></script> -->

  <!-- Feather Icons -->
  <script src="https://unpkg.com/feather-icons"></script>

  <script>
    // Render feather icons after the DOM is fully loaded
    feather.replace();

    // Example: if using a tooly.js init function or similar
    // window.addEventListener('DOMContentLoaded', () => {
    //   toolyInit(); 
    // });
  </script>

  <script src="script.js"></script>
</body>

</html>
